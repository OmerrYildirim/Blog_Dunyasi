@{
    ViewData["Title"] = "Erişim Reddedildi";
    var reason = TempData["Reason"] != null ? TempData["Reason"].ToString() : string.Empty;
}

<div class="container-fluid m-0 p-0 min-vh-100 bg-dark">
    <div class="row justify-content-center align-items-center min-vh-100 m-0">
        <div class="col-11 col-sm-8 col-md-6 col-lg-4">
            <div class="card shadow-lg">
                <div class="card-body p-4">
                    <div class="alert alert-warning text-center mb-4">
                        Bu sayfaya erişmek için giriş yapmanız gerekiyor.
                    </div>
                    
                    <div class="progress mb-3" role="progressbar">
                        <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%">
                        </div>
                    </div>
                    
                    <p class="text-center mb-0">
                        Giriş sayfasına yönlendiriliyorsunuz...
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        let progress = 0;
        const interval = setInterval(() => {
            progress += 1;
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = progress + '%';
            progressBar.textContent = progress + '%';

            if (progress >= 100) {
                clearInterval(interval);
                setTimeout(() => {
                    window.location.href = '/User/Login';
                }, 500); // 500ms bekle
            }
        }, 30);
    </script>
}